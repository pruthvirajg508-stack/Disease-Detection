<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AI Crop Disease Assistant</title>
  <style>
    /* ---------- Base / Layout ---------- */
    :root{
      --bg-1: #ecfdf5;
      --bg-2: #f0fdfa;
      --card-bg: rgba(255,255,255,0.92);
      --accent: #10b981;
      --muted: #6b7280;
      --glass: rgba(255,255,255,0.6);
      --success: #059669;
      --error: #ef4444;
      --shadow: 0 10px 30px rgba(2,6,23,0.08);
    }

    * { box-sizing: border-box; }
    html,body { height:100%; margin:0; font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }

    body{
      display:flex;
      align-items:center;
      justify-content:center;
      padding:28px;
      background: linear-gradient(135deg,var(--bg-1), var(--bg-2));
      color:#0f172a;
    }

    /* Central container */
    .app-card {
      width:100%;
      max-width: 920px;
      background: var(--card-bg);
      border-radius: 18px;
      padding: 22px;
      box-shadow: var(--shadow);
      border: 1px solid rgba(6,95,70,0.04);
      overflow: hidden;
    }

    /* Header */
    .header {
      text-align:center;
      margin-bottom: 14px;
    }
    .header h1 {
      margin:0;
      font-size:1.9rem;
      color: var(--accent);
      letter-spacing: -0.02em;
    }
    .header p { margin:6px 0 0; color:var(--muted); font-size:0.95rem; }

    /* Controls row */
    .controls {
      display:flex;
      gap:10px;
      justify-content:center;
      align-items:center;
      margin: 16px 0 22px;
      flex-wrap:wrap;
    }
    .select-lang {
      padding:8px 12px;
      border-radius:10px;
      border:1px solid rgba(2,6,23,0.06);
      background: white;
      font-weight:600;
      color:#0f172a;
    }

    /* Buttons */
    .btn {
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 14px;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      font-weight:600;
      transition: transform .12s ease, box-shadow .12s ease;
    }
    .btn:active { transform: translateY(1px); }

    .btn.primary {
      background: linear-gradient(90deg,#10b981,#059669);
      color:#fff;
      box-shadow: 0 6px 20px rgba(5,150,105,0.12);
    }
    .btn.secondary {
      background: linear-gradient(90deg,#06b6d4,#3b82f6);
      color:#fff;
    }
    .btn.ghost {
      background: transparent;
      border: 1px dashed rgba(15,23,42,0.06);
      color: #0f172a;
    }

    /* Media preview area */
    .media-grid {
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:16px;
      align-items:start;
      margin-bottom:18px;
    }
    .preview-box {
      background: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.45));
      border-radius:12px;
      padding:12px;
      border:1px solid rgba(2,6,23,0.04);
      min-height:200px;
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
    }
    .preview-box video,
    .preview-box img {
      width:100%;
      height:100%;
      max-height:360px;
      object-fit:cover;
      border-radius:8px;
      display:block;
    }

    /* Results */
    .results {
      margin-top: 12px;
      border-radius:12px;
      padding:14px;
      background: linear-gradient(180deg, rgba(16,185,129,0.03), rgba(16,185,129,0.01));
      border:1px solid rgba(6,95,70,0.04);
    }
    .results h2 {
      margin:0 0 8px;
      font-size:1.12rem;
      color:#064e3b;
    }
    .badge {
      background: rgba(5,150,105,0.12);
      color: var(--success);
      padding:6px 10px;
      border-radius:999px;
      font-weight:700;
      font-size:0.95rem;
      border: 1px solid rgba(5,150,105,0.08);
    }
    .pesticide-list { list-style: disc; padding-left: 18px; color:#06323a; margin:0; }
    .pesticide-list li { margin:6px 0; font-weight:600; }

    /* Error highlighting */
    .db-error {
      border:1px dashed rgba(239,68,68,0.18);
      background: linear-gradient(180deg, rgba(239,68,68,0.03), rgba(239,68,68,0.01));
      color: var(--error);
      padding:10px;
      border-radius:8px;
      font-weight:700;
      margin-top:10px;
    }

    /* Responsive */
    @media (max-width: 880px){
      .media-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <div class="app-card">
    <div class="header">
      <h1>üåæ AI Crop Disease Assistant</h1>
      <p>Upload / capture crop images and get pesticide recommendations</p>
    </div>

    <!-- Controls -->
    <div class="controls">
      <select id="lang" class="select-lang">
        <option value="en">English</option>
        <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
      </select>
      <input type="file" id="fileInput" accept="image/*" class="btn ghost"/>
      <button class="btn primary" onclick="simulateDetection()">Detect Disease</button>
    </div>

    <!-- Preview -->
    <div class="media-grid">
      <div class="preview-box"><img id="preview" alt="Image preview"></div>
      <div class="preview-box"><span class="helper">Live Camera (not implemented in demo)</span></div>
    </div>

    <!-- Results -->
    <div id="results"></div>
  </div>

  <script>
    // disease database with 20 entries (2 faulty)
    const diseaseDatabase = {
      "Tomato___Late_blight": {
        name: { en: "Tomato - Late Blight", te: "‡∞ü‡∞Æ‡±ã‡∞ü‡∞æ - ‡∞Ü‡∞≤‡∞∏‡±ç‡∞Ø ‡∞ï‡±Å‡∞≥‡±ç‡∞≥‡±Å" },
        pesticides: {
          en: ["Metalaxyl", "Mancozeb", "Copper Oxychloride"],
          te: ["‡∞Æ‡±Ü‡∞ü‡∞æ‡∞≤‡∞æ‡∞ï‡±ç‡∞∏‡∞ø‡∞≤‡±ç", "‡∞Æ‡∞æ‡∞Ç‡∞ï‡±ã‡∞ú‡±Ü‡∞¨‡±ç", "‡∞ï‡∞æ‡∞™‡∞∞‡±ç ‡∞Ü‡∞ï‡±ç‡∞∏‡±Ä‡∞ï‡±ç‡∞≤‡±ã‡∞∞‡±à‡∞°‡±ç"]
        }
      },
      "Potato___Early_blight": {
        name: { en: "Potato - Early Blight", te: "‡∞Ü‡∞≤‡±Å‡∞ó‡∞°‡±ç‡∞° - ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡∞Ç‡∞≠ ‡∞ï‡±Å‡∞≥‡±ç‡∞≥‡±Å" },
        pesticides: {
          en: ["Azoxystrobin", "Difenoconazole", "Mancozeb"],
          te: ["‡∞Ö‡∞ú‡±ã‡∞ï‡±ç‡∞∏‡∞ø‡∞∏‡±ç‡∞ü‡±ç‡∞∞‡±ã‡∞¨‡∞ø‡∞®‡±ç", "‡∞°‡±à‡∞´‡±Ü‡∞®‡±ã‡∞ï‡±ã‡∞®‡∞ú‡±ã‡∞≤‡±ç", "‡∞Æ‡∞æ‡∞Ç‡∞ï‡±ã‡∞ú‡±Ü‡∞¨‡±ç"]
        }
      },
      "Banana___Sigatoka": {
        name: { en: "Banana - Sigatoka", te: "‡∞Ö‡∞∞‡∞ü‡∞ø - ‡∞∏‡∞ø‡∞ó‡∞ü‡±ã‡∞ï‡∞æ" },
        pesticides: {
          en: ["Mancozeb", "Thiophanate-methyl", "Propiconazole"],
          te: ["‡∞Æ‡∞æ‡∞Ç‡∞ï‡±ã‡∞ú‡±Ü‡∞¨‡±ç", "‡∞•‡∞ø‡∞Ø‡±ã‡∞´‡∞æ‡∞®‡±á‡∞ü‡±ç-‡∞Æ‡∞ø‡∞•‡±à‡∞≤‡±ç", "‡∞™‡±ç‡∞∞‡±ã‡∞™‡∞ø‡∞ï‡±ã‡∞®‡∞æ‡∞ú‡±ã‡∞≤‡±ç"]
        }
      },
      "Rice___Brown_spot": {
        name: { en: "Rice - Brown Spot", te: "‡∞¨‡∞ø‡∞Ø‡±ç‡∞Ø‡∞Ç - ‡∞¨‡±ç‡∞∞‡±å‡∞®‡±ç ‡∞∏‡±ç‡∞™‡∞æ‡∞ü‡±ç" },
        pesticides: {
          en: ["Carbendazim", "Propiconazole", "Tricyclazole"],
          te: ["‡∞ï‡∞æ‡∞∞‡±ç‡∞¨‡±Ü‡∞Ç‡∞°‡∞æ‡∞ú‡∞ø‡∞Æ‡±ç", "‡∞™‡±ç‡∞∞‡±ã‡∞™‡∞ø‡∞ï‡±ã‡∞®‡∞æ‡∞ú‡±ã‡∞≤‡±ç", "‡∞ü‡±ç‡∞∞‡±à‡∞∏‡±à‡∞ï‡±ç‡∞≤‡±ã‡∞ú‡±ã‡∞≤‡±ç"]
        }
      },
      "Wheat___Rust": {
        name: { en: "Wheat - Rust", te: "‡∞ó‡±ã‡∞ß‡±Å‡∞Æ - ‡∞§‡±Å‡∞™‡±ç‡∞™‡±Å" },
        pesticides: {
          en: ["Mancozeb", "Tebuconazole", "Hexaconazole"],
          te: ["‡∞Æ‡∞æ‡∞Ç‡∞ï‡±ã‡∞ú‡±Ü‡∞¨‡±ç", "‡∞ü‡±Ü‡∞¨‡±Ç‡∞ï‡±ã‡∞®‡∞æ‡∞ú‡±ã‡∞≤‡±ç", "‡∞π‡±Ü‡∞ï‡±ç‡∞∏‡∞æ‡∞ï‡±ã‡∞®‡∞æ‡∞ú‡±ã‡∞≤‡±ç"]
        }
      },
      "Cotton___Bollworm": {
        name: { en: "Cotton - Bollworm", te: "‡∞™‡∞§‡±ç‡∞§‡∞ø - ‡∞¨‡±ã‡∞≤‡±ç‚Äå‡∞µ‡∞æ‡∞∞‡±ç‡∞Æ‡±ç" },
        pesticides: {
          en: ["Spinosad", "Chlorantraniliprole", "Emamectin benzoate"],
          te: ["‡∞∏‡±ç‡∞™‡∞ø‡∞®‡±ã‡∞∏‡∞æ‡∞°‡±ç", "‡∞ï‡±ç‡∞≤‡±ã‡∞∞‡∞æ‡∞Ç‡∞ü‡±ç‡∞∞‡∞æ‡∞®‡∞ø‡∞≤‡∞ø‡∞™‡±ç‡∞∞‡±ã‡∞≤‡±ç", "‡∞é‡∞Æ‡∞æ‡∞Æ‡±Ü‡∞ï‡±ç‡∞ü‡∞ø‡∞®‡±ç ‡∞¨‡±Ü‡∞Ç‡∞ú‡±ã‡∞Ø‡±á‡∞ü‡±ç"]
        }
      },
      "Maize___Stem_borer": {
        name: { en: "Maize - Stem Borer", te: "‡∞Æ‡±ä‡∞ï‡±ç‡∞ï‡∞ú‡±ä‡∞®‡±ç‡∞® - ‡∞∏‡±ç‡∞ü‡±Ü‡∞Ç ‡∞¨‡±ã‡∞∞‡∞∞‡±ç" },
        pesticides: {
          en: ["Carbofuran", "Lambda-cyhalothrin", "Chlorpyrifos"],
          te: ["‡∞ï‡∞æ‡∞∞‡±ç‡∞¨‡±ã‡∞´‡±ç‡∞Ø‡±Å‡∞∞‡∞æ‡∞®‡±ç", "‡∞≤‡∞æ‡∞Ç‡∞¨‡±ç‡∞°‡∞æ-‡∞∏‡±à‡∞π‡∞≤‡±ã‡∞§‡±ç‡∞∞‡∞ø‡∞®‡±ç", "‡∞ï‡±ç‡∞≤‡±ã‡∞∞‡±ç‡∞™‡∞ø‡∞∞‡∞ø‡∞´‡±ã‡∞∏‡±ç"]
        }
      },
      "Chilli___Leaf_curl": {
        name: { en: "Chilli - Leaf Curl", te: "‡∞Æ‡∞ø‡∞∞‡±ç‡∞ö‡∞ø - ‡∞Ü‡∞ï‡±Å ‡∞Æ‡±Å‡∞°‡∞§‡∞≤‡±Å" },
        pesticides: {
          en: ["Imidacloprid", "Thiamethoxam", "Acetamiprid"],
          te: ["‡∞á‡∞Æ‡∞ø‡∞°‡∞æ‡∞ï‡±ç‡∞≤‡±ã‡∞™‡±ç‡∞∞‡∞ø‡∞°‡±ç", "‡∞•‡∞ø‡∞Ø‡∞æ‡∞Æ‡±Ü‡∞•‡±ã‡∞ï‡±ç‡∞∏‡∞æ‡∞Æ‡±ç", "‡∞Ö‡∞∏‡±Ü‡∞ü‡∞Æ‡∞ø‡∞™‡±ç‡∞∞‡∞ø‡∞°‡±ç"]
        }
      },
      "Sugarcane___Red_rot": {
        name: { en: "Sugarcane - Red Rot", te: "‡∞ö‡±Ü‡∞∞‡∞ï‡±Å - ‡∞∞‡±Ü‡∞°‡±ç ‡∞∞‡∞æ‡∞ü‡±ç" },
        pesticides: {
          en: ["Carbendazim", "Thiophanate-methyl", "Copper Oxychloride"],
          te: ["‡∞ï‡∞æ‡∞∞‡±ç‡∞¨‡±Ü‡∞Ç‡∞°‡∞æ‡∞ú‡∞ø‡∞Æ‡±ç", "‡∞•‡∞ø‡∞Ø‡±ã‡∞´‡∞æ‡∞®‡±á‡∞ü‡±ç-‡∞Æ‡∞ø‡∞•‡±à‡∞≤‡±ç", "‡∞ï‡∞æ‡∞™‡∞∞‡±ç ‡∞Ü‡∞ï‡±ç‡∞∏‡±Ä‡∞ï‡±ç‡∞≤‡±ã‡∞∞‡±à‡∞°‡±ç"]
        }
      },
      "Groundnut___Rust": {
        name: { en: "Groundnut - Rust", te: "‡∞µ‡±á‡∞∞‡±Å‡∞∂‡∞®‡∞ó - ‡∞§‡±Å‡∞™‡±ç‡∞™‡±Å" },
        pesticides: {
          en: ["Chlorothalonil", "Hexaconazole", "Mancozeb"],
          te: ["‡∞ï‡±ç‡∞≤‡±ã‡∞∞‡±ã‡∞•‡∞æ‡∞≤‡±ã‡∞®‡∞ø‡∞≤‡±ç", "‡∞π‡±Ü‡∞ï‡±ç‡∞∏‡∞æ‡∞ï‡±ã‡∞®‡∞æ‡∞ú‡±ã‡∞≤‡±ç", "‡∞Æ‡∞æ‡∞Ç‡∞ï‡±ã‡∞ú‡±Ü‡∞¨‡±ç"]
        }
      },
      // --- faulty entry #1 ---
      "Cauliflower___Downy_mildew": {
        name: { en: "Cauliflower - Downy Mildew", te: "‡∞ï‡∞æ‡∞≤‡±Ä‡∞´‡±ç‡∞≤‡∞µ‡∞∞‡±ç - ‡∞°‡±å‡∞®‡±Ä ‡∞Æ‡∞ø‡∞≤‡±ç‡∞°‡±ç‡∞Ø‡±Ç" },
        pesticides: {
          en: ["Metalaxyl", "Cymoxanil"] // Telugu missing (error)
        }
      },
      "Onion___Purple_blotch": {
        name: { en: "Onion - Purple Blotch", te: "‡∞â‡∞≤‡±ç‡∞≤‡∞ø‡∞™‡∞æ‡∞Ø - ‡∞™‡∞∞‡±ç‡∞™‡±Å‡∞≤‡±ç ‡∞¨‡±ç‡∞≤‡∞æ‡∞ö‡±ç" },
        pesticides: {
          en: ["Mancozeb", "Chlorothalonil", "Iprodione"],
          te: ["‡∞Æ‡∞æ‡∞Ç‡∞ï‡±ã‡∞ú‡±Ü‡∞¨‡±ç", "‡∞ï‡±ç‡∞≤‡±ã‡∞∞‡±ã‡∞•‡∞æ‡∞≤‡±ã‡∞®‡∞ø‡∞≤‡±ç", "‡∞á‡∞™‡±ç‡∞∞‡±ã‡∞°‡∞Ø‡±ã‡∞®‡±ç"]
        }
      },
      "Soybean___Rust": {
        name: { en: "Soybean - Rust", te: "‡∞∏‡±ã‡∞Ø‡∞æ‡∞¨‡±Ä‡∞®‡±ç - ‡∞§‡±Å‡∞™‡±ç‡∞™‡±Å" },
        pesticides: {
          en: ["Tebuconazole", "Hexaconazole", "Propiconazole"],
          te: ["‡∞ü‡±Ü‡∞¨‡±Ç‡∞ï‡±ã‡∞®‡∞æ‡∞ú‡±ã‡∞≤‡±ç", "‡∞π‡±Ü‡∞ï‡±ç‡∞∏‡∞æ‡∞ï‡±ã‡∞®‡∞æ‡∞ú‡±ã‡∞≤‡±ç", "‡∞™‡±ç‡∞∞‡±ã‡∞™‡∞ø‡∞ï‡±ã‡∞®‡∞æ‡∞ú‡±ã‡∞≤‡±ç"]
        }
      },
      "Grapes___Powdery_mildew": {
        name: { en: "Grapes - Powdery Mildew", te: "‡∞¶‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞∑ - ‡∞™‡±å‡∞°‡∞∞‡±Ä ‡∞Æ‡∞ø‡∞≤‡±ç‡∞°‡±ç‡∞Ø‡±Ç" },
        pesticides: {
          en: ["Sulphur", "Dinocap", "Tridemorph"],
          te: ["‡∞∏‡∞≤‡±ç‡∞´‡∞∞‡±ç", "‡∞°‡±à‡∞®‡±ã‡∞ï‡∞æ‡∞™‡±ç", "‡∞ü‡±ç‡∞∞‡∞ø‡∞°‡∞ø‡∞Æ‡∞æ‡∞∞‡±ç‡∞´‡±ç"]
        }
      },
      "Apple___Scab": {
        name: { en: "Apple - Scab", te: "‡∞Ü‡∞™‡∞ø‡∞≤‡±ç - ‡∞∏‡±ç‡∞ï‡∞æ‡∞¨‡±ç" },
        pesticides: {
          en: ["Captan", "Mancozeb", "Dodine"],
          te: ["‡∞ï‡∞æ‡∞™‡±ç‡∞ü‡∞æ‡∞®‡±ç", "‡∞Æ‡∞æ‡∞Ç‡∞ï‡±ã‡∞ú‡±Ü‡∞¨‡±ç", "‡∞°‡±ã‡∞°‡∞ø‡∞®‡±ç"]
        }
      },
      "Mango___Anthracnose": {
        name: { en: "Mango - Anthracnose", te: "‡∞Æ‡∞æ‡∞Æ‡∞ø‡∞°‡∞ø - ‡∞Ø‡∞æ‡∞®‡±ç‡∞§‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞®‡±ã‡∞∏‡±ç" },
        pesticides: {
          en: ["Carbendazim", "Copper Oxychloride", "Propineb"],
          te: ["‡∞ï‡∞æ‡∞∞‡±ç‡∞¨‡±Ü‡∞Ç‡∞°‡∞æ‡∞ú‡∞ø‡∞Æ‡±ç", "‡∞ï‡∞æ‡∞™‡∞∞‡±ç ‡∞Ü‡∞ï‡±ç‡∞∏‡±Ä‡∞ï‡±ç‡∞≤‡±ã‡∞∞‡±à‡∞°‡±ç", "‡∞™‡±ç‡∞∞‡±ã‡∞™‡∞ø‡∞®‡±Ü‡∞¨‡±ç"]
        }
      },
      "Pomegranate___Bacterial_blight": {
        name: { en: "Pomegranate - Bacterial Blight", te: "‡∞¶‡∞æ‡∞®‡∞ø‡∞Æ‡±ç‡∞Æ - ‡∞¨‡±ç‡∞Ø‡∞æ‡∞ï‡±ç‡∞ü‡±Ä‡∞∞‡∞ø‡∞Ø‡∞≤‡±ç ‡∞¨‡±ç‡∞≤‡±à‡∞ü‡±ç" },
        pesticides: {
          en: ["Streptomycin", "Copper Hydroxide", "Kasugamycin"],
          te: ["‡∞∏‡±ç‡∞ü‡±ç‡∞∞‡±Ü‡∞™‡±ç‡∞ü‡±ã‡∞Æ‡±à‡∞∏‡∞ø‡∞®‡±ç", "‡∞ï‡∞æ‡∞™‡∞∞‡±ç ‡∞π‡±à‡∞°‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞∏‡±à‡∞°‡±ç", "‡∞ï‡∞∏‡±Å‡∞ó‡∞æ‡∞Æ‡±à‡∞∏‡∞ø‡∞®‡±ç"]
        }
      },
      "Papaya___Powdery_mildew": {
        name: { en: "Papaya - Powdery Mildew", te: "‡∞¨‡±ä‡∞™‡±ç‡∞™‡∞æ‡∞Ø‡∞ø - ‡∞™‡±å‡∞°‡∞∞‡±Ä ‡∞Æ‡∞ø‡∞≤‡±ç‡∞°‡±ç‡∞Ø‡±Ç" },
        pesticides: {
          en: ["Wettable Sulphur", "Dinocap", "Tridemorph"],
          te: ["‡∞µ‡±Ü‡∞ü‡±ç‚Äå‡∞ü‡∞¨‡±Å‡∞≤‡±ç ‡∞∏‡∞≤‡±ç‡∞´‡∞∞‡±ç", "‡∞°‡±à‡∞®‡±ã‡∞ï‡∞æ‡∞™‡±ç", "‡∞ü‡±ç‡∞∞‡∞ø‡∞°‡∞ø‡∞Æ‡∞æ‡∞∞‡±ç‡∞´‡±ç"]
        }
      },
      // --- faulty entry #2 ---
      "Tomato___Bacterial_spot": {
        name: { en: "Tomato - Bacterial Spot" }, // Telugu name missing
        pesticides: {
          en: ["Copper Hydroxide", "Streptomycin", "Mancozeb"],
          te: ["‡∞ï‡∞æ‡∞™‡∞∞‡±ç ‡∞π‡±à‡∞°‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞∏‡±à‡∞°‡±ç", "‡∞∏‡±ç‡∞ü‡±ç‡∞∞‡±Ü‡∞™‡±ç‡∞ü‡±ã‡∞Æ‡±à‡∞∏‡∞ø‡∞®‡±ç", "‡∞Æ‡∞æ‡∞Ç‡∞ï‡±ã‡∞ú‡±Ü‡∞¨‡±ç"]
        }
      }
    };

    // handle file preview
    const fileInput = document.getElementById("fileInput");
    const preview = document.getElementById("preview");
    fileInput.addEventListener("change", e=>{
      const file = e.target.files[0];
      if(file){
        preview.src = URL.createObjectURL(file);
      }
    });

    function simulateDetection(){
      const keys = Object.keys(diseaseDatabase);
      const randomKey = keys[Math.floor(Math.random()*keys.length)];
      const disease = diseaseDatabase[randomKey];
      const lang = document.getElementById("lang").value;

      const resultsDiv = document.getElementById("results");
      resultsDiv.innerHTML = "";

      if(!disease.name[lang] || !disease.pesticides[lang]){
        resultsDiv.innerHTML = `<div class="db-error">‚ö†Ô∏è Database entry incomplete for <b>${randomKey}</b></div>`;
        return;
      }

      let html = `
        <div class="results">
          <h2>${disease.name[lang]}</h2>
          <span class="badge">${randomKey}</span>
          <ul class="pesticide-list">
            ${disease.pesticides[lang].map(p=>`<li>${p}</li>`).join("")}
          </ul>
        </div>
      `;
      resultsDiv.innerHTML = html;
    }
  </script>
</body>
</html>
